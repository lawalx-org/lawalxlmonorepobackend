model Sheet {
  id        String   @id @default(uuid())
  name      String
  cells     Cell[]
  snapshots SheetSnapshot[]
  createdAt DateTime @default(now())
  updatedAt DateTime @updatedAt


  chartId    String      @unique
  projectId   String     @unique
  chart      ChartTable  @relation(fields: [chartId], references: [id])
  project     Project    @relation(fields: [projectId], references: [id], onDelete: Cascade)
}

model Cell {
  id        String   @id @default(uuid())
  row       Int
  col       Int
  value     String
  sheet     Sheet    @relation(fields: [sheetId], references: [id])
  sheetId   String
  createdAt DateTime @default(now())
  updatedAt DateTime @updatedAt

  @@unique([sheetId, row, col])
}

model SheetSnapshot {
  id        String   @id @default(uuid())
  sheet     Sheet    @relation(fields: [sheetId], references: [id])
  sheetId   String
  data      Json
  createdAt DateTime @default(now())
}
