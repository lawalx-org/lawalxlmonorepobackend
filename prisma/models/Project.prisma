
model Project {
  id                        String        @id @default(uuid())
  programId                 String
  name                      String
  uploadbeforeday           String
  uploadCycle               ProjectCycle
  description               String
  dataReceivedTime          String?
  beforeSubmitData          Int?
  weakuploadData            String[]
  monthlyuploadData         String[]
  status                    ProjectStatus @default(PENDING)
  priority                  Priority
  deadline                  DateTime
  managerId                 String
  startDate                 DateTime?
  progress                  Int?
  chartList                 String[]      // Seed create that chart list
  estimatedCompletedDate    DateTime?
  currentRate               String?
  budget                    String?
  createdAt                 DateTime      @default(now())
  updatedAt                 DateTime      @updatedAt
  latitude                  Float?
  longitude                 Float?

  // Relations
  program                   Program       @relation(fields: [programId], references: [id], onDelete: Cascade)
  manager                   Manager       @relation(fields: [managerId], references: [id], onDelete: Cascade)
  projectEmployees           ProjectEmployee[]
  tasks                     Task[]
  activities                Activity[]
  reviews                   Review[]
  requestsToAddProjectMember RequestToAddProjectMember[]
  submitted                 Submitted[]

  @@map("projects")
}



model ProjectEmployee {
  id          String     @id @default(uuid())
  projectId   String
  employeeId  String
  assignedAt  DateTime   @default(now())

  // Relations
  project     Project    @relation(fields: [projectId], references: [id], onDelete: Cascade)
  employee    Employee   @relation(fields: [employeeId], references: [id], onDelete: Cascade)

  @@unique([projectId, employeeId]) 
  @@map("project_employees")
}